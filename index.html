<!DOCTYPE html>
<html lang="en">
<head>
    <title>刮刮乐</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/>
    <link rel="stylesheet" href="base.css">
    <style type="text/css">
        html,body{
            -moz-user-select: none;
            -khtml-user-select: none;
            user-select: none;
        }
        #box {
            width:300px;
            height:150px;
            border:10px dashed #ccc;
            line-height:130px;
            text-align:center;
            font-size:40px;
            margin:50px;
        }
        #cvs {
            position:absolute;
            top:50px;
            left:50px;
        }

    </style>
</head>
<body>
    <div>
        <div id="box">谢谢惠顾</div>
        <canvas id="cvs" width="300" height="150"></canvas>
    </div>
    <script type="text/javascript">
        var cvs = document.getElementById('cvs');
        var box = document.getElementById('box');

        var arr = ['谢谢惠顾','一等奖','二等奖','三等奖'];
        var i = Math.floor(Math.random() * 4);//0-9
        box.innerHTML = arr[i];

        var c = cvs.getContext('2d');
        c.fillStyle = '#ccc';//填充色
        c.fillRect(0, 0, cvs.width, cvs.height);

        function draw(e) {
            c.globalCompositeOperation = 'destination-out';//在源图像外显示目标图像。只有源图像外的目标图像部分会被显示，源图像是透明的。
            c.beginPath();
            c.arc(e.clientX - cvs.offsetLeft, e.clientY - cvs.offsetTop, 20, 0, 2 * Math.PI, false)
            c.fill();
        }
        cvs.addEventListener('mousedown', function() {
            cvs.addEventListener('mousemove', draw, false)
        }, false)
        document.addEventListener('mouseup', function() {
            cvs.removeEventListener('mousemove', draw, false)
        }, false)
    </script>
</body>
</html>